#!/bin/bash

echo "üõë –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏..."
echo ""

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Next.js —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3000)
echo "   –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Next.js —Å–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 3000)..."
lsof -ti:3000 | xargs kill -9 2>/dev/null && echo "   ‚úì Next.js –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω" || echo "   ‚Ä¢ Next.js –Ω–µ –∑–∞–ø—É—â–µ–Ω"

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã node
echo "   –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º node –ø—Ä–æ—Ü–µ—Å—Å—ã..."
pkill -f "next dev" 2>/dev/null && echo "   ‚úì Node –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã" || echo "   ‚Ä¢ Node –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º ngrok
echo "   –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º ngrok..."
pkill -f ngrok 2>/dev/null && echo "   ‚úì ngrok –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω" || echo "   ‚Ä¢ ngrok –Ω–µ –∑–∞–ø—É—â–µ–Ω"

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º ngrok –Ω–∞ –ø–æ—Ä—Ç—É 4040 (–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
echo "   –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º ngrok –ø–∞–Ω–µ–ª—å (–ø–æ—Ä—Ç 4040)..."
lsof -ti:4040 | xargs kill -9 2>/dev/null

echo ""
echo "‚úÖ –í—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!"
echo ""

# –û—á–∏—â–∞–µ–º –ª–æ–≥–∏ –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
if [ -f "dev.log" ]; then
    echo "üóëÔ∏è  –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏..."
    rm -f dev.log ngrok.log
    echo "   ‚úì –õ–æ–≥–∏ —É–¥–∞–ª–µ–Ω—ã"
fi

echo ""

